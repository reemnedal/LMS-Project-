{"version":3,"file":"js/llms-quill-wordcount.js","mappings":"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","sources":["webpack://lifterlms/./packages/quill-wordcount-module/src/create-container.js","webpack://lifterlms/./packages/quill-wordcount-module/src/format-number.js","webpack://lifterlms/./packages/quill-wordcount-module/src/get-counter-text-color.js","webpack://lifterlms/./packages/quill-wordcount-module/src/index.js","webpack://lifterlms/./packages/quill-wordcount-module/src/module.js","webpack://lifterlms/./node_modules/words-count/dist/index.js","webpack://lifterlms/webpack/bootstrap","webpack://lifterlms/webpack/runtime/compat get default export","webpack://lifterlms/webpack/runtime/define property getters","webpack://lifterlms/webpack/runtime/hasOwnProperty shorthand","webpack://lifterlms/webpack/runtime/make namespace object","webpack://lifterlms/./src/js/quill-wordcount.js"],"sourcesContent":["import formatNumber from './format-number';\n\n/**\n * Creates a new DOM node for the min or max count display.\n *\n * @since 2.0.0\n *\n * @param {string} classNameSuffix Suffix to add to the element's classname.\n * @param {string} text            Text to display.\n * @param {number} limit           Word count limit.\n * @return {Element} A DOM node element.\n */\nfunction createCounterNode( classNameSuffix, text, limit ) {\n\tconst node = document.createElement( 'i' );\n\n\tnode.className = `ql-wordcount-${ classNameSuffix }`;\n\n\tnode.style.opacity = '0.5';\n\tnode.style.marginRight = '10px';\n\n\tnode.innerHTML = `${ text }: ${ formatNumber( limit ) }`;\n\n\treturn node;\n}\n\n/**\n * Creates a container element to house the wordcount module UI.\n *\n * @since 2.0.0\n *\n * @param {Object} options A `WordCountModuleOptions` options object.\n * @return {Element} The container DOM node element.\n */\nexport default function( options ) {\n\tconst { l10n, min, max } = options,\n\t\tcontainer = document.createElement( 'div' );\n\n\tcontainer.className = 'ql-wordcount ql-toolbar ql-snow';\n\tcontainer.style.marginTop = '-1px';\n\tcontainer.style.fontSize = '85%';\n\n\tif ( min ) {\n\t\tcontainer.appendChild( createCounterNode( 'min', l10n.min, min ) );\n\t}\n\n\tif ( max ) {\n\t\tcontainer.appendChild( createCounterNode( 'max', l10n.max, max ) );\n\t}\n\n\treturn container;\n}\n","/**\n * Formats a number using the builtin {@see Intl.NumberFormat}.\n *\n * @since 2.0.0\n *\n * @param {number} number An integer, float, or numerical string.\n * @return {string} The formatted number string.\n */\nexport default function( number ) {\n\treturn new Intl.NumberFormat().format( number );\n}\n","/**\n * Retrieves the text-color to use to denote word count errors or warnings.\n *\n * @since 2.0.0\n *\n * @param {number} wordCount The current word count in the Quill editor instance.\n * @param {Object} options   A `WordCountModuleOptions` options object.\n * @return {string} The CSS color code to use.\n */\nexport default function( wordCount, options ) {\n\tconst { min, max, colorWarning, colorError } = options;\n\n\tlet color = 'initial';\n\n\tif ( ( min && wordCount < min ) || ( max && wordCount > max ) ) {\n\t\tcolor = colorError;\n\t} else if ( max && wordCount >= max * 0.9 ) {\n\t\tcolor = colorWarning;\n\t}\n\n\treturn color;\n}\n","import wordCountModule from './module';\n\n/**\n * Registers the Word Count module with Quill.\n *\n * @since 2.0.0\n *\n * @return {boolean} Returns `true` when registered and `false` if Quill is not available.\n */\nexport default function() {\n\tconst { Quill } = window;\n\tif ( undefined === Quill ) {\n\t\treturn false;\n\t}\n\n\tQuill.register( 'modules/wordcount', wordCountModule );\n\treturn true;\n}\n","import wordsCount from 'words-count';\n\nimport createContainer from './create-container';\nimport getCounterTextColor from './get-counter-text-color';\nimport formatNumber from './format-number';\n\n/**\n * The modules options object.\n *\n * @typedef {Object} WordCountModuleOptions\n *\n * @property {?number}  min           The minimum required words. If `null` no minimum will be enforced.\n * @property {?number}  max           The maximum required words. If `null` no maximum will be enforced.\n * @property {string}   colorWarning  A CSS color code used when approaching the maximum word count.\n * @property {string}   colorError    A CSS color code used when below the minimum or above the maximum word count.\n * @property {Function} onChange      Callback function invoked when the quill text changes. This function is passed\n *                                    3 parameters: the `quill` object, the module options object, and the current number of words.\n * @property {Object}   l10n          An object of language strings used in the module's UI.\n * @property {string}   l10n.singular The singular unit, default \"word\".\n * @property {string}   l10n.plural   The plurarl unit, default \"words\".\n * @property {string}   l10n.min      Text to display for minimum count, default \"Minimum\".\n * @property {string}   l10n.max      Text to display for maximum count, default \"Maximum\".\n */\n\n/**\n * Merges default options into the supplied options ensuring all necessary options in exist in the resulting object.\n *\n * @since 2.0.0\n *\n * @param {WordCountModuleOptions} options A full or partial options object.\n * @return {WordCountModuleOptions} A full options object.\n */\nexport function setOptions( options = {} ) {\n\toptions = {\n\t\t...{\n\t\t\tmin: null,\n\t\t\tmax: null,\n\t\t\tcolorWarning: '#ff922b', // Orange.\n\t\t\tcolorError: '#e5554e', // Red.\n\t\t\tonChange: () => {},\n\t\t\tl10n: {},\n\t\t},\n\t\t...options,\n\t};\n\n\toptions.l10n = {\n\t\t...{\n\t\t\tsingular: 'word',\n\t\t\tplural: 'words',\n\t\t\tmin: 'Minimum',\n\t\t\tmax: 'Maximum',\n\t\t},\n\t\t...options.l10n,\n\t};\n\n\treturn options;\n}\n\n/**\n * The Quill Word Count Module.\n *\n * @since 2.0.0\n *\n * @param {Object}                 quill   A `Quill` editor instance.\n * @param {WordCountModuleOptions} options A full or partial options object.\n * @return {void}\n */\nexport default function( quill, options = {} ) {\n\toptions = setOptions( options );\n\n\tconst container = createContainer( options ),\n\t\tcounter = document.createElement( 'span' );\n\n\tcounter.className = 'ql-wordcount-counter';\n\tcounter.style.float = 'right';\n\n\tcontainer.appendChild( counter );\n\n\tconst updateCounter = () => {\n\t\tconst wordCount = wordsCount( quill.getText() );\n\n\t\tcounter.style.color = getCounterTextColor( wordCount, options );\n\n\t\tconst unit = 1 === wordCount ? options.l10n.singular : options.l10n.plural;\n\t\tcounter.innerHTML = formatNumber( wordCount ) + ' ' + unit;\n\n\t\toptions.onChange( quill, options, wordCount );\n\t};\n\n\tupdateCounter();\n\n\tquill.container.parentNode.insertBefore( container, quill.container.nextSibling );\n\n\tquill.on( 'text-change', updateCounter );\n}\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"words-count\",[],t):\"object\"==typeof exports?exports[\"words-count\"]=t():e[\"words-count\"]=t()}(this,(function(){return(()=>{\"use strict\";var e={314:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a,wordsCount:()=>c,wordsSplit:()=>i,wordsDetect:()=>u});var o=[\",\",\"，\",\".\",\"。\",\":\",\"：\",\";\",\"；\",\"[\",\"]\",\"【\",\"]\",\"】\",\"{\",\"｛\",\"}\",\"｝\",\"(\",\"（\",\")\",\"）\",\"<\",\"《\",\">\",\"》\",\"$\",\"￥\",\"!\",\"！\",\"?\",\"？\",\"~\",\"～\",\"'\",\"’\",'\"',\"“\",\"”\",\"*\",\"/\",\"\\\\\",\"&\",\"%\",\"@\",\"#\",\"^\",\"、\",\"、\",\"、\",\"、\"],n={words:[],count:0},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return n;var r=String(e);if(\"\"===r.trim())return n;var u=t.punctuationAsBreaker?\" \":\"\",c=t.disableDefaultPunctuation?[]:o,i=t.punctuation||[],a=c.concat(i);a.forEach((function(e){var t=new RegExp(\"\\\\\"+e,\"g\");r=r.replace(t,u)})),r=(r=(r=(r=r.replace(/[\\uFF00-\\uFFEF\\u2000-\\u206F]/g,\"\")).replace(/\\s+/,\" \")).split(\" \")).filter((function(e){return e.trim()}));var d=\"(\\\\d+)|[a-zA-ZÀ-ÿĀ-ſƀ-ɏɐ-ʯḀ-ỿЀ-ӿԀ-ԯഀ-ൿ]+|\",f=\"⺀-⻿⼀-⿟　-〿㇀-㇯㈀-㋿㌀-㏿㐀-㿿䀀-䶿一-俿倀-忿怀-濿瀀-翿耀-迿退-鿿豈-﫿\",p=\"぀-ゟ゠-ヿㇰ-ㇿ㆐-㆟\",s=\"ᄀ-ᇿ㄰-㆏ꥠ-꥿가-꿿뀀-뿿쀀-쿿퀀-힯ힰ-퟿\",l=new RegExp(d+\"[\"+f+p+s+\"]\",\"g\"),v=[];return r.forEach((function(e){var t,r=[];do{(t=l.exec(e))&&r.push(t[0])}while(t);0===r.length?v.push(e):v=v.concat(r)})),{words:v,count:v.length}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=u(e,t),o=r.count;return o},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=u(e,t),o=r.words;return o};const a=c}},t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}return r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r(314)})()}));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import quillWordcountModule from '../../packages/quill-wordcount-module/src';\n\n/**\n * Registers the wordcount module with Quill.\n *\n * @since 6.10.0\n */\n( function() {\n\tquillWordcountModule();\n}() );\n"],"names":["formatNumber","createCounterNode","classNameSuffix","text","limit","node","document","createElement","className","style","opacity","marginRight","innerHTML","options","l10n","min","max","container","marginTop","fontSize","appendChild","number","Intl","NumberFormat","format","wordCount","colorWarning","colorError","color","wordCountModule","Quill","window","undefined","register","wordsCount","createContainer","getCounterTextColor","setOptions","arguments","length","onChange","singular","plural","quill","counter","float","updateCounter","getText","unit","parentNode","insertBefore","nextSibling","on","quillWordcountModule"],"sourceRoot":""}